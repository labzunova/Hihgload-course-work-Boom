# Boom
Course work on Highload: system design of Boom - service for listening to music.

---
## Тема и целевая аудитория
###Тема курсовой: 
Boom - сервис для прослушивания музыки.  
Аналоги: Spotify, Яндекс Музыка, Apple Music, Deezer.
###Целевая аудитория: 
В июле 2020 года число подписчиков Boom 3.5 миллиона подписчиков[1].  
Пользователи находятся в России.

---
## Расчет нагрузки
### Продуктовые метрики
· Месячная аудитория больше количества подписчиков сервиса. Официально данная статистика не опубликована, но возьмем ее равной **7 миллионам**.
Вероятно, пользователи слушают музыку не каждый день.  
· В качестве дневной аудитории возьмем **2 миллиона**, опираясь также на показатели Яндекс музыки[2].  

### Технические метрики
#### Хранилище
· Официально количество треков в Boom не опубликовано, но проведя аналогию между другими сервисами[3], будем считать музыкальную базу
равной **60млн песен**.  
Средняя длительность одного трека - 3 минуты, минута песни весит в среднем 2МБ.  
· То есть размер хранения равен 50.000.000 треков * 3 минуты/трек * 2 Mb/минута = **300Тб**.

#### Размер переданных данных в день
Среднее время прослушивания музыки в день - 90 минут[4]  
В день в сумме через сервис проходит 2.000.000 * 90 = 180.000.000 минут музыкального контента.  
· То есть в день Boom передает: 180.000.000 минут * 2Mb/минута = 360.000.000 Мб = **360Тб**.

#### RPC
Допустим, MVP - загрузка страницы с песнями, включение конкретной песни из списка, переключение песни.
Тогда каждый пользователь в день в среднем 3 раза открывает список, слушает 90 минут песни(90/3 = ~30 песен), и, допустим, 15 раз за это время ажимает на переключение песни.
То есть от всех пользователей получается  
3 * 2.000.000 = 6.000.000 запросов в день на открытие списка песен = 69 RPS;  
30 * 2.000.000 = 60.000.000 запросов на получение трека = 694 RPS;  
15 * 2.000.000 = 30.000.000 запросов на переключение = 347 RPS;  
Итого 69 + 694 + 347 = 1110 RPS, если учитывать только функционал описанного выше MVP.
---
## Логическая схема БД
...

---
## Физическая схема БД
...

---
## Список источников
1. https://ru.wikipedia.org/wiki/
2. https://radar.yandex.ru/yandex?month=2021-07
3. https://re-store.ru/blog/sravneniya/music-services-in-russia/
4. https://vc.ru/media/96460-chislo-podpischikov-yandeks-muzyki-vyroslo-v-tri-raza-za-poltora-goda-i-dostiglo-3-mln
